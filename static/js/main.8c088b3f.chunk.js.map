{"version":3,"sources":["App.js","index.js"],"names":["App","props","useState","currencyArray","setCurrencyArray","setFetchData","Date","startDate","setStartDate","createCurrencyJsx","json","sort","compareCurrency","map","e","value","rate","cc","a","b","useEffect","getCurrencyJsx","inputRight","React","useRef","inputLeft","formSelectLeft","formSelectRight","changeInputRight","Number","current","isFinite","Math","round","alert","fetch","getFullYear","getMonth","slice","getDate","response","data","Container","fluid","style","backgroundColor","opacity","width","borderRadius","textAlign","margin","padding","fontFamily","fontSize","fontWeight","selected","onChange","date","Form","Control","type","placeholder","display","position","onInput","ref","Select","onClick","saveLeft","saveRight","key","verticalAlign","className","paddingRight","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8c088b3f.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {Container, Form } from \"react-bootstrap\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"./App.css\";\n\n\n\nfunction App(props){\n\n    const [currencyArray, setCurrencyArray] = useState(\"\");\n    //setCurrencyArray змінює значення currencyArray\n    //Кожного разу коли currencyArray змінюється, компонента рендериться заново\n    //const[hryvnaValue, setHryvnaValue]= useState(0);\n    const[fetchData, setFetchData]= useState([]);//коли запустилась ф-ція setFetchData, то fetchData=json,\n    const [startDate, setStartDate] = useState(new Date());\n\n    useEffect(()=>{\n        getCurrencyJsx();\n    }, [startDate]);\n\n    // useEffect(()=>{\n    //     let data = createCurrencyJsx(fetchData);\n    //     setCurrencyArray(data);//передаєм сюди значення, яке треба присвоїти змінній currencyArray\n    // }, [hryvnaValue]);\n\n\n    function createCurrencyJsx(json){\n        let data=json.sort(compareCurrency).map((e)=>(<option value={e.rate}>{e.cc}</option>));\n        return data;\n\n    }\n\n    function compareCurrency(a,b){\n        if (a.cc > b.cc) return 1;\n        if (a.cc == b.cc) return 0;\n        if (a.cc < b.cc) return -1;\n    }\n\n    let inputRight=React.useRef();\n    let inputLeft=React.useRef();\n    let formSelectLeft=React.useRef();\n    let formSelectRight=React.useRef();\n\n\n\n    function changeInputRight(){\n        if (typeof Number(inputLeft.current.value) !== 'number' || !isFinite(Number(inputLeft.current.value))){\n            alert ('Please enter a valid number');\n        }else{\n            inputRight.current.value = Math.round(inputLeft.current.value * formSelectLeft.current.value / formSelectRight.current.value*100)/100;\n        }\n    }\n\n\n    function changeInputLeft(){\n        if (typeof Number(inputLeft.current.value) !== 'number' || !isFinite(Number(inputLeft.current.value))){\n            alert ('Please enter a valid number');\n        }else {\n            inputLeft.current.value = Math.round(inputRight.current.value * formSelectRight.current.value / formSelectLeft.current.value * 100) / 100;\n        }\n    }\n\n\n    async function getCurrencyJsx() {\n        let response = await fetch(`https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?date=${startDate.getFullYear()}${(\"0\"+(startDate.getMonth()+1)).slice(-2)}${(\"0\"+startDate.getDate()).slice(-2)}&json`);\n        let json = await response.json();\n        setFetchData(json);//\n\n        let data=createCurrencyJsx(json);// тут дата стає масивом розміток (<option value={e.rate}>{e.cc}</option>)\n        setCurrencyArray(data);//передаєм сюди значення, яке треба присвоїти змінній currencyArray\n        changeInputRight();\n    }\n\n    function switchCurrency() {\n        let saveLeft = 0;// зберігаємо сюди значення лівого поля з валютами\n        let saveRight=0;\n\n        for (let key in formSelectLeft.current) {\n            if (key == Number(key) && formSelectLeft.current[key].selected == true) {\n                saveLeft=key;\n            }// шукаємо і зберігаємо значення валюти Left\n        }\n        for (let key in formSelectRight.current) {\n            if (key == Number(key) && formSelectRight.current[key].selected == true) {\n                saveRight=key;\n            }\n        }\n        formSelectRight.current[saveLeft].selected=true;\n        formSelectLeft.current[saveRight].selected=true;\n        changeInputRight();\n    }\n\n\n    return (\n      <Container fluid\n                 style={{\n                     backgroundColor: '#a8c1d9',\n                     opacity: 0.8,\n                     width: 600,\n                     borderRadius: 25, textAlign: 'center', margin: 'auto', padding: '20px 20px 40px 20px'}}>\n\n          <div style={{fontFamily:'inherit', fontSize:'18px', fontWeight:500}}>Select the currency rate for the day\n          <DatePicker selected={startDate} onChange={(date) => setStartDate(date)}/>\n          </div>\n\n          <Form.Control type=\"text\" placeholder=\"Amount\" style={{ width: 100, display:'inline', position:'relative'}} onInput={changeInputRight}  ref={inputLeft}  />\n          <Form.Select aria-label=\"Default select example\" style={{ width: 90, display:'inline', position:'relative'}} ref={formSelectLeft} onChange={changeInputRight}>\n              <option value=\"1\">UAH</option>\n              {currencyArray}\n          </Form.Select>\n\n          {/*<i className=\"fas fa-long-arrow-alt-right\" style={{fontSize: '35px',  marginTop: 'center', position: 'absolute', paddingLeft:'3px'}}  onClick={switchCurrency}></i>*/}\n          <span onClick={switchCurrency} style={{fontSize: '40px', verticalAlign: '-14%'}} >\n              <i className=\"fas fa-caret-left\" style={{paddingRight:'3px'}}></i>\n          <i className=\"fas fa-caret-right\"></i>\n          </span>\n\n          <Form.Control type=\"text\" placeholder=\"Amount\" style={{ width: 100, display:'inline' }} ref={inputRight} onInput={changeInputLeft}  />\n          <Form.Select aria-label=\"Default select example\"  style={{ width: 90, display:'inline', position:'relative'}} ref={formSelectRight} onChange={changeInputRight}>\n              <option value=\"1\">UAH</option>\n              {currencyArray}\n          </Form.Select>\n\n      </Container>\n\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {HashRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <React.StrictMode>\n\n<HashRouter>\n    <App/>\n</HashRouter>\n        </React.StrictMode>\n\n        ,document.getElementById('root')\n);\n\n"],"sourceRoot":""}